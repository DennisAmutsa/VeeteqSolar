image.png{% extends "base.html" %}

{% block title %}Get Quote - Veeteq Solar{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative py-8 text-white overflow-hidden">
    <!-- Background Image -->
    <div class="absolute inset-0">
        <img src="{{ url_for('static', filename='uploads/solar_install.jpg') }}" alt="Solar Energy Quote" class="w-full h-full object-cover">
        <!-- Gradient Overlay -->
        <div class="absolute inset-0 bg-gradient-to-br from-sky-400/20 via-blue-500/25 to-indigo-600/30"></div>
    </div>
    
    <!-- Solar Panel Grid Background -->
    <div class="absolute inset-0 opacity-10">
        <div class="grid grid-cols-12 gap-4 h-full">
            {% for i in range(12) %}
            <div class="bg-white/10 rounded-sm"></div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Floating Solar Elements -->
    <div class="absolute inset-0">
        <div class="absolute top-20 left-10 w-16 h-16 bg-yellow-400/30 rounded-lg rotate-12 animate-pulse"></div>
        <div class="absolute top-40 right-20 w-12 h-12 bg-orange-400/30 rounded-lg rotate-45 animate-bounce"></div>
        <div class="absolute bottom-40 left-1/4 w-20 h-20 bg-yellow-300/20 rounded-lg rotate-12"></div>
        <div class="absolute bottom-20 right-1/3 w-14 h-14 bg-orange-300/30 rounded-lg rotate-45 animate-pulse"></div>
    </div>
    
    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-center min-h-[40vh]">
            <!-- Main Content - Centered -->
            <div class="text-center max-w-4xl">
                <!-- Solar Badge -->
                <div class="inline-flex items-center bg-yellow-400/20 backdrop-blur-sm rounded-full px-4 py-2 mb-4 border border-yellow-400/30">
                    <i class="fas fa-calculator text-yellow-300 mr-2 text-lg"></i>
                    <span class="text-yellow-100 font-medium text-sm">üåû Get Your Free Solar Quote</span>
                </div>
                
                <!-- Main Headline -->
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-black mb-4 leading-tight">
                    <span class="text-white">CALCULATE YOUR </span>
                    <span class="bg-gradient-to-r from-yellow-300 via-orange-400 to-yellow-500 bg-clip-text text-transparent animate-pulse">
                        SOLAR SAVINGS
                    </span>
                </h1>
                
                <!-- Subtitle -->
                <p class="text-lg md:text-xl mb-6 leading-relaxed text-blue-100 font-light">
                    ‚òÄÔ∏è Discover how much you can save with solar energy
                    <br>üí∞ Get instant estimates and detailed quotes in minutes
                </p>
                
                <!-- CTA Button -->
                <div class="flex justify-center items-center mb-8">
                    <button onclick="document.getElementById('calculator-section').scrollIntoView({behavior: 'smooth'})" 
                            class="group bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-orange-500 hover:to-yellow-400 text-black px-10 py-4 rounded-xl text-xl font-bold transition-all duration-300 shadow-xl hover:shadow-yellow-500/25 transform hover:-translate-y-1 hover:scale-105">
                        <i class="fas fa-calculator mr-3"></i>
                        START CALCULATOR
                        <i class="fas fa-arrow-down ml-3 group-hover:translate-y-1 transition-transform"></i>
                    </button>
                </div>
                
            </div>
        </div>
    </div>
    
    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
        <i class="fas fa-chevron-down text-yellow-300 text-2xl"></i>
    </div>
</section>

<!-- Calculator Section -->
<section id="calculator-section" class="py-16 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- Section Header -->
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Get Your Solar Quote</h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">Just two simple questions to get your personalized solar savings estimate</p>
        </div>

        <!-- Calculator Card -->
        <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-100 mb-8">
            <form id="quoteCalculator" class="max-w-xl mx-auto space-y-6">
                
                <!-- Property Type Selection -->
                <div>
                    <label class="block text-lg font-semibold text-gray-800 mb-4 text-center">
                        What type of property do you have?
                    </label>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                        <label class="group cursor-pointer">
                            <input type="radio" name="propertyType" value="residential" class="sr-only" required>
                            <div class="property-option bg-blue-50 border-2 border-blue-200 rounded-lg p-4 text-center transition-all duration-300 group-hover:border-blue-400 group-hover:shadow-md group-hover:scale-102">
                                <div class="text-2xl mb-2">üè†</div>
                                <h3 class="text-base font-semibold text-gray-800">Residential</h3>
                                <p class="text-xs text-gray-600">Homes, apartments</p>
                            </div>
                        </label>
                        
                        <label class="group cursor-pointer">
                            <input type="radio" name="propertyType" value="commercial" class="sr-only" required>
                            <div class="property-option bg-green-50 border-2 border-green-200 rounded-lg p-4 text-center transition-all duration-300 group-hover:border-green-400 group-hover:shadow-md group-hover:scale-102">
                                <div class="text-2xl mb-2">üè¢</div>
                                <h3 class="text-base font-semibold text-gray-800">Commercial</h3>
                                <p class="text-xs text-gray-600">Offices, retail</p>
                            </div>
                        </label>
                        
                        <label class="group cursor-pointer">
                            <input type="radio" name="propertyType" value="industrial" class="sr-only" required>
                            <div class="property-option bg-orange-50 border-2 border-orange-200 rounded-lg p-4 text-center transition-all duration-300 group-hover:border-orange-400 group-hover:shadow-md group-hover:scale-102">
                                <div class="text-2xl mb-2">üè≠</div>
                                <h3 class="text-base font-semibold text-gray-800">Industrial</h3>
                                <p class="text-xs text-gray-600">Manufacturing</p>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Monthly Bill Input -->
                <div>
                    <label class="block text-xl font-bold text-gray-800 mb-6 text-center">
                        What's your average monthly electricity bill?
                    </label>
                    <div class="max-w-md mx-auto">
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <span class="text-gray-500 font-semibold">KSh</span>
                            </div>
                            <input type="number" id="monthlyBill" name="monthlyBill" 
                                   class="w-full pl-16 pr-4 py-4 text-lg border-2 border-gray-200 rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all duration-300 bg-gray-50 focus:bg-white text-center font-semibold" 
                                   placeholder="15000" min="1000" max="500000" required>
                            <div class="absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none">
                                <i class="fas fa-money-bill-wave text-gray-400"></i>
                            </div>
                        </div>
                        
                        <!-- Bill Range Indicators -->
                        <div class="mt-4 grid grid-cols-2 gap-4 text-sm text-gray-600">
                            <div class="bg-gray-50 rounded-lg p-3 text-center">
                                <div class="font-semibold text-gray-800">Typical Home</div>
                                <div>KSh 8,000 - 25,000</div>
                            </div>
                            <div class="bg-gray-50 rounded-lg p-3 text-center">
                                <div class="font-semibold text-gray-800">Small Business</div>
                                <div>KSh 30,000 - 100,000</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Calculate Button -->
                <div class="text-center">
                    <button type="submit" id="calculateBtn" 
                            class="bg-gradient-to-r from-blue-500 to-green-500 hover:from-green-500 hover:to-blue-500 text-white px-12 py-4 rounded-xl font-bold text-xl transition-all duration-300 transform hover:scale-105 hover:shadow-xl">
                        <i class="fas fa-calculator mr-3"></i>
                        Calculate My Savings
                        <i class="fas fa-arrow-right ml-3"></i>
                    </button>
                    
                    <!-- Trust Indicators -->
                    <div class="mt-6 flex items-center justify-center space-x-6 text-sm text-gray-500">
                        <div class="flex items-center">
                            <i class="fas fa-shield-alt text-green-500 mr-2"></i>
                            <span>Free calculation</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-lock text-blue-500 mr-2"></i>
                            <span>No obligation</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-user-check text-orange-500 mr-2"></i>
                            <span>Professional assessment</span>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <!-- Results Section (Hidden initially) -->
        <div id="quoteResults" class="hidden">
            <div class="bg-gradient-to-r from-solar-blue to-solar-green text-white p-8 rounded-2xl shadow-2xl">
                <div class="text-center mb-8">
                    <h3 class="text-3xl font-bold mb-2 flex items-center justify-center">
                        <i class="fas fa-chart-line mr-3"></i>
                        Your Solar Savings Analysis
                    </h3>
                    <div class="w-32 h-1 bg-white/50 rounded-full mx-auto"></div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white/10 backdrop-blur-sm p-6 rounded-xl border border-white/20">
                        <div class="text-center">
                            <div class="text-3xl font-bold mb-2" id="systemSize">-</div>
                            <div class="text-sm opacity-90">System Size (kW)</div>
                            <div class="text-xs opacity-75 mt-1">Solar panels needed</div>
                        </div>
                    </div>

                    <div class="bg-white/10 backdrop-blur-sm p-6 rounded-xl border border-white/20">
                        <div class="text-center">
                            <div class="text-2xl font-bold mb-2" id="annualSavings">KSh -</div>
                            <div class="text-sm opacity-90">Annual Savings</div>
                            <div class="text-xs opacity-75 mt-1">Money you'll save yearly</div>
                        </div>
                    </div>

                    <div class="bg-white/10 backdrop-blur-sm p-6 rounded-xl border border-white/20">
                        <div class="text-center">
                            <div class="text-2xl font-bold mb-2" id="paybackPeriod">-</div>
                            <div class="text-sm opacity-90">Payback Period</div>
                            <div class="text-xs opacity-75 mt-1">Years to break even</div>
                        </div>
                    </div>

                    <div class="bg-white/10 backdrop-blur-sm p-6 rounded-xl border border-white/20">
                        <div class="text-center">
                            <div class="text-2xl font-bold mb-2" id="totalSavings">KSh -</div>
                            <div class="text-sm opacity-90">25-Year Savings</div>
                            <div class="text-xs opacity-75 mt-1">Total savings over time</div>
                    </div>
                    </div>
                </div>
                
                <!-- Investment Summary -->
                <div class="bg-white/20 backdrop-blur-sm p-6 rounded-xl border border-white/30">
                    <h4 class="text-xl font-bold mb-4 text-center">Investment Summary</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                        <div>
                            <div class="text-lg font-semibold mb-1">System Cost</div>
                            <div class="text-xl font-bold" id="systemCost">KSh -</div>
                            <div class="text-xs opacity-80">Total investment</div>
                        </div>
                    <div>
                            <div class="text-lg font-semibold mb-1">After Incentives</div>
                            <div class="text-xl font-bold text-solar-yellow" id="netCost">KSh -</div>
                            <div class="text-xs opacity-80">What you'll pay</div>
                        </div>
                        <div>
                            <div class="text-lg font-semibold mb-1">Monthly Payment</div>
                            <div class="text-xl font-bold" id="monthlyPayment">KSh -</div>
                            <div class="text-xs opacity-80">Financing available</div>
                        </div>
                        </div>
                    </div>

                <!-- Call to Action -->
                <div class="mt-8 text-center">
                    <div class="bg-solar-yellow/20 border border-solar-yellow/30 rounded-xl p-4 mb-6">
                        <p class="text-lg font-semibold mb-2">
                            <i class="fas fa-lightbulb text-solar-yellow mr-2"></i>
                            Ready to go solar?
                        </p>
                        <p class="opacity-90">
                            Get a detailed quote with site assessment and financing options
                        </p>
                    </div>

                    <button onclick="document.getElementById('quoteFormSection').scrollIntoView({behavior: 'smooth'})" class="bg-white text-solar-blue px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg">
                        <i class="fas fa-arrow-down mr-2"></i>
                            Get Detailed Quote
                        <i class="fas fa-arrow-down ml-2"></i>
                        </button>
                    </div>
                </div>
        </div>

    </div>

<!-- Detailed Quote Request Form -->
<section class="py-12 bg-gray-50">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-100">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">
                    <i class="fas fa-clipboard-list text-orange-500 mr-2"></i>
                    Get Your Detailed Quote
                </h2>
                <p class="text-gray-600">Fill out this form and we'll provide a comprehensive quote with site assessment</p>
            </div>

            <form id="quoteForm" action="{{ url_for('submit_quote') }}" method="POST" class="max-w-4xl mx-auto">

                <!-- Progress Indicator -->
                <div class="mb-6">
                    <div class="flex items-center justify-center space-x-4">
                        <div class="flex items-center">
                            <div class="bg-blue-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold">1</div>
                            <span class="ml-2 text-xs font-medium text-gray-700">Contact Info</span>
                        </div>
                        <div class="w-8 h-0.5 bg-gray-300"></div>
                        <div class="flex items-center">
                            <div class="bg-gray-300 text-gray-600 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold">2</div>
                            <span class="ml-2 text-xs font-medium text-gray-500">Property Details</span>
                        </div>
                        <div class="w-8 h-0.5 bg-gray-300"></div>
                        <div class="flex items-center">
                            <div class="bg-gray-300 text-gray-600 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold">3</div>
                            <span class="ml-2 text-xs font-medium text-gray-500">Review & Submit</span>
                        </div>
                    </div>
                </div>

                <!-- Contact Information -->
                <div class="mb-6">
                    <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-user text-blue-500 mr-2"></i>
                        Contact Information
                    </h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="group">
                            <label class="block text-xs font-semibold text-gray-700 mb-1" for="firstName">
                                Full Name *
                            </label>
                            <div class="relative">
                                <input type="text" id="firstName" name="name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-100 transition-all duration-300 bg-white text-sm" placeholder="John Doe" required>
                                <div class="absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none">
                                    <i class="fas fa-user text-gray-400 text-xs"></i>
                                </div>
                            </div>
                        </div>

                        <div class="group">
                            <label class="block text-xs font-semibold text-gray-700 mb-1" for="email">
                                Email Address *
                            </label>
                            <div class="relative">
                                <input type="email" id="email" name="email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-100 transition-all duration-300 bg-white text-sm" placeholder="john@example.com" required>
                                <div class="absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none">
                                    <i class="fas fa-envelope text-gray-400 text-xs"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="group">
                            <label class="block text-xs font-semibold text-gray-700 mb-1" for="phone">
                                Phone Number *
                            </label>
                            <div class="relative">
                                <input type="tel" id="phone" name="phone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-100 transition-all duration-300 bg-white text-sm" placeholder="0720000000" required>
                                <div class="absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none">
                                    <i class="fas fa-phone text-gray-400 text-xs"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="group">
                            <label class="block text-xs font-semibold text-gray-700 mb-1" for="propertyType">
                                Property Type *
                            </label>
                            <div class="relative">
                                <select id="formPropertyType" name="propertyType" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-100 transition-all duration-300 bg-white appearance-none cursor-pointer text-sm" required>
                                    <option value="">Select property type</option>
                                    <option value="residential">üè† Residential Home</option>
                                    <option value="commercial">üè¢ Commercial Business</option>
                                    <option value="industrial">üè≠ Industrial Facility</option>
                                </select>
                                <div class="absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none">
                                    <i class="fas fa-chevron-down text-gray-400 text-xs"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                    
                <!-- Property Details -->
                <div class="mb-6">
                    <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-map-marker-alt text-orange-500 mr-2"></i>
                        Property Details
                    </h3>

                    <div class="space-y-3">
                        <div class="group">
                            <label class="block text-xs font-semibold text-gray-700 mb-1" for="address">
                                Street Address *
                            </label>
                            <div class="relative">
                                <input type="text" id="address" name="address" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-100 transition-all duration-300 bg-white text-sm" placeholder="123 Main Street" required>
                                <div class="absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none">
                                    <i class="fas fa-map-marker-alt text-gray-400 text-xs"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <div class="group">
                                <label class="block text-xs font-semibold text-gray-700 mb-1" for="city">
                                    City *
                                </label>
                                <input type="text" id="city" name="city" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-100 transition-all duration-300 bg-white text-sm" placeholder="Nairobi" required>
                            </div>
                            
                            <div class="group">
                                <label class="block text-xs font-semibold text-gray-700 mb-1" for="state">
                                    County *
                                </label>
                                <input type="text" id="state" name="state" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-100 transition-all duration-300 bg-white text-sm" placeholder="Nairobi" required>
                            </div>
                            
                            <div class="group">
                                <label class="block text-xs font-semibold text-gray-700 mb-1" for="zipCode">
                                    Zip Code
                                </label>
                                <input type="text" id="zipCode" name="zipCode" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-100 transition-all duration-300 bg-white text-sm" placeholder="00100">
                            </div>
                        </div>
                        
                        <!-- Monthly Bill Amount for Form -->
                        <div class="group">
                            <label class="block text-xs font-semibold text-gray-700 mb-1" for="monthlyUsage">
                                Average Monthly Electricity Bill (KSh) *
                            </label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <span class="text-gray-500 font-semibold text-sm">KSh</span>
                                </div>
                                <input type="number" id="formMonthlyUsage" name="monthlyUsage" class="w-full pl-12 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-100 transition-all duration-300 bg-white text-sm" placeholder="15000" min="1000" required>
                                <div class="absolute inset-y-0 right-0 pr-2 flex items-center pointer-events-none">
                                    <i class="fas fa-money-bill-wave text-gray-400 text-xs"></i>
                                </div>
                            </div>
                            <p class="text-xs text-gray-600 mt-1">
                                <i class="fas fa-info-circle mr-1 text-blue-500"></i>
                                This helps us determine the right system size for your needs
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Submit Section -->
                <div class="text-center">
                    <div class="bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg mb-4">
                        <h4 class="text-base font-bold text-gray-800 mb-3">What happens next?</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-gray-600">
                            <div class="flex items-center justify-center">
                                <div class="bg-blue-500 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold mr-2">1</div>
                                We review your information
                            </div>
                            <div class="flex items-center justify-center">
                                <div class="bg-green-500 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold mr-2">2</div>
                                Site assessment & custom quote
                            </div>
                            <div class="flex items-center justify-center">
                                <div class="bg-orange-500 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold mr-2">3</div>
                                Financing options & installation
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-yellow-500 hover:to-orange-500 text-white px-10 py-3 rounded-lg font-bold text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-orange-200">
                        <i class="fas fa-paper-plane mr-2"></i>
                        Get My Free Quote
                        <i class="fas fa-arrow-right ml-2"></i>
                    </button>

                    <p class="text-xs text-gray-500 mt-3">
                        <i class="fas fa-shield-alt text-green-500 mr-1"></i>
                        Your information is secure ‚Ä¢ Free consultation ‚Ä¢ No obligation
                    </p>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- Benefits Section -->
<section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-800 mb-3">Why Choose Veeteq Solar?</h2>
            <div class="w-20 h-1 bg-gradient-to-r from-solar-orange to-solar-yellow rounded-full mx-auto"></div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            <div class="text-center group">
                <div class="bg-gradient-to-r from-solar-green to-green-600 text-white w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                    <i class="fas fa-money-bill-wave text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Save Money</h3>
                <p class="text-gray-600">Reduce your electricity bills by up to 90% with solar power</p>
            </div>

            <div class="text-center group">
                <div class="bg-gradient-to-r from-solar-blue to-blue-600 text-white w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                    <i class="fas fa-leaf text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Eco-Friendly</h3>
                <p class="text-gray-600">Clean, renewable energy that reduces your carbon footprint</p>
            </div>

            <div class="text-center group">
                <div class="bg-gradient-to-r from-solar-orange to-orange-600 text-white w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                    <i class="fas fa-tools text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Professional Installation</h3>
                <p class="text-gray-600">Certified technicians with years of experience</p>
        </div>
        
            <div class="text-center group">
                <div class="bg-gradient-to-r from-solar-yellow to-yellow-600 text-white w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                    <i class="fas fa-shield-alt text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">25-Year Warranty</h3>
                <p class="text-gray-600">Comprehensive warranty coverage for peace of mind</p>
            </div>
        </div>
                </div>
</section>

<!-- FAQ Section -->
<section class="py-16 bg-gradient-to-br from-gray-50 to-blue-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-800 mb-3">Frequently Asked Questions</h2>
            <div class="w-20 h-1 bg-gradient-to-r from-solar-green to-solar-blue rounded-full mx-auto"></div>
            </div>
            
        <div class="space-y-6">
            <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-lg font-bold text-gray-800 mb-2">How long does it take to get my solar system installed?</h3>
                <p class="text-gray-600">Typically 2-4 weeks from approval to completion, depending on system size and complexity.</p>
                </div>

            <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-lg font-bold text-gray-800 mb-2">What maintenance is required for solar panels?</h3>
                <p class="text-gray-600">Solar panels require minimal maintenance - just occasional cleaning and annual inspections.</p>
            </div>
            
            <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-lg font-bold text-gray-800 mb-2">Can I sell excess power back to the grid?</h3>
                <p class="text-gray-600">Yes, with net metering, you can sell excess power back to the utility company.</p>
                </div>

            <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-lg font-bold text-gray-800 mb-2">What happens during cloudy weather or at night?</h3>
                <p class="text-gray-600">During cloudy weather, panels produce less power. At night, you draw from the grid or battery storage.</p>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Clear any pre-filled values
    const monthlyBillInput = document.getElementById('monthlyBill');
    if (monthlyBillInput) {
        monthlyBillInput.value = '';
    }
    
    // Quote Calculator
    const quoteCalculator = document.getElementById('quoteCalculator');
    const calculateBtn = document.getElementById('calculateBtn');
    const quoteResults = document.getElementById('quoteResults');
    const originalBtnText = calculateBtn.innerHTML;

    quoteCalculator.addEventListener('submit', function(e) {
    e.preventDefault();
    
        // Get selected property type from radio buttons
        const propertyTypeRadio = document.querySelector('input[name="propertyType"]:checked');
        const propertyType = propertyTypeRadio ? propertyTypeRadio.value : null;
        const monthlyBill = parseFloat(document.getElementById('monthlyBill').value);

        if (!propertyType || !monthlyBill) {
            showError('Please fill in all required fields');
            return;
        }

        // Convert bill amount to kWh usage (rough estimate: KSh 20-25 per kWh)
        const estimatedUsage = Math.round(monthlyBill / 22); // Average rate estimate
    
    // Show loading state
        calculateBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-3"></i>Calculating...';
        calculateBtn.disabled = true;

        // Calculate quote using backend API (we'll use a default roof size since users won't know)
    fetch('/calculate_quote', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
            body: JSON.stringify({
                propertyType: propertyType,
                monthlyUsage: estimatedUsage,
                roofSize: 2000 // Default roof size - will be assessed during site visit
            })
    })
    .then(response => response.json())
        .then(data => {
            if (data.error) {
                throw new Error(data.error);
            }

            // Update results with enhanced display
            document.getElementById('systemSize').textContent = data.systemSize;
            document.getElementById('systemCost').textContent = 'KSh ' + data.systemCost.toLocaleString();
            document.getElementById('annualSavings').textContent = 'KSh ' + data.annualSavings.toLocaleString();
            document.getElementById('paybackPeriod').textContent = data.paybackPeriod;
            document.getElementById('totalSavings').textContent = 'KSh ' + (data.annualSavings * 25).toLocaleString();
            document.getElementById('netCost').textContent = 'KSh ' + data.netCost.toLocaleString();

            // Calculate estimated monthly payment (assuming 5-year financing at 8% interest)
            const loanAmount = data.netCost;
            const interestRate = 0.08;
            const loanTerm = 60; // 5 years
            const monthlyPayment = Math.round((loanAmount * interestRate / 12) / (1 - Math.pow(1 + interestRate / 12, -loanTerm)));
            document.getElementById('monthlyPayment').textContent = 'KSh ' + monthlyPayment.toLocaleString();
        
        // Show results
            quoteResults.classList.remove('hidden');

            // Scroll to results with smooth animation
            setTimeout(() => {
                quoteResults.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 300);
    })
    .catch(error => {
        console.error('Error:', error);
            showError('Failed to calculate quote. Please try again.');
    })
    .finally(() => {
        // Reset button
            calculateBtn.innerHTML = originalBtnText;
            calculateBtn.disabled = false;
        });
    });

    // Form enhancements
    const inputs = document.querySelectorAll('input, select');
    inputs.forEach(input => {
        input.addEventListener('focus', function() {
            this.classList.remove('bg-gray-50');
            this.classList.add('bg-white');
        });

        input.addEventListener('blur', function() {
            if (!this.value) {
                this.classList.remove('bg-white');
                this.classList.add('bg-gray-50');
            }
    });
});

    // Phone number formatting for both calculator and form
    const phoneInputs = document.querySelectorAll('input[type="tel"]');
    phoneInputs.forEach(phoneInput => {
        if (phoneInput) {
            phoneInput.addEventListener('input', function() {
                let value = this.value.replace(/\D/g, '');
                if (value.startsWith('254')) {
                    value = value.substring(3);
                }
                if (value.startsWith('0')) {
                    value = value.substring(1);
                }
                if (value.length > 0) {
                    value = '0' + value;
                }
                this.value = value;
            });
        }
    });

    // Handle property type radio button selection and auto-populate
    const propertyTypeRadios = document.querySelectorAll('input[name="propertyType"]');
    const formPropertyTypeSelect = document.getElementById('formPropertyType');

    if (propertyTypeRadios.length > 0) {
        propertyTypeRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                if (this.checked) {
                    // Remove selected class from all options
                    document.querySelectorAll('.property-option').forEach(option => {
                        option.classList.remove('ring-2', 'ring-blue-500', 'ring-green-500', 'ring-orange-500');
                    });
                    
                    // Add selected class to current option
                    const currentOption = this.closest('label').querySelector('.property-option');
                    if (this.value === 'residential') {
                        currentOption.classList.add('ring-2', 'ring-blue-500');
                    } else if (this.value === 'commercial') {
                        currentOption.classList.add('ring-2', 'ring-green-500');
                    } else if (this.value === 'industrial') {
                        currentOption.classList.add('ring-2', 'ring-orange-500');
                    }
                    
                    // Auto-populate detailed form if it exists
                    if (formPropertyTypeSelect) {
                        formPropertyTypeSelect.value = this.value;
                    }
                }
            });
        });
    }

    const formMonthlyUsageInput = document.getElementById('formMonthlyUsage');

    if (monthlyBillInput && formMonthlyUsageInput) {
        monthlyBillInput.addEventListener('input', function() {
            formMonthlyUsageInput.value = this.value;
        });
    }

    function showError(message) {
        // Create error notification
        const notification = document.createElement('div');
        notification.className = 'fixed top-20 right-4 bg-red-500 text-white px-6 py-4 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300';
        notification.innerHTML = `
            <div class="flex items-center">
                <i class="fas fa-exclamation-triangle mr-3 text-xl"></i>
                <div>
                    <div class="font-semibold">Error</div>
                    <div class="text-sm opacity-90">${message}</div>
                </div>
                <button onclick="this.parentElement.remove()" class="ml-4 text-white hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;

        document.body.appendChild(notification);

        // Animate in
        setTimeout(() => {
            notification.style.transform = 'translateX(0)';
        }, 100);

        // Auto remove after 5 seconds
        setTimeout(() => {
            notification.style.transform = 'translateX(full)';
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 300);
        }, 5000);
    }

    // Success message for quote form
    const quoteForm = document.getElementById('quoteForm');
    if (quoteForm) {
        quoteForm.addEventListener('submit', function(e) {
            // Let the form submit normally, but show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-3"></i>Submitting Quote Request...';
            submitBtn.disabled = true;

            // Show success message after a short delay
            setTimeout(() => {
                showSuccess('Quote request submitted successfully! We\'ll contact you within 24 hours.');
            }, 1000);

            // Re-enable after 5 seconds (in case of error)
            setTimeout(() => {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }, 5000);
        });
    }

    function showSuccess(message) {
        // Create success notification
        const notification = document.createElement('div');
        notification.className = 'fixed top-20 right-4 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300';
        notification.innerHTML = `
            <div class="flex items-center">
                <i class="fas fa-check-circle mr-3 text-xl"></i>
                <div>
                    <div class="font-semibold">Success!</div>
                    <div class="text-sm opacity-90">${message}</div>
                </div>
                <button onclick="this.parentElement.remove()" class="ml-4 text-white hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;

        document.body.appendChild(notification);

        // Animate in
        setTimeout(() => {
            notification.style.transform = 'translateX(0)';
        }, 100);

        // Auto remove after 5 seconds
        setTimeout(() => {
            notification.style.transform = 'translateX(full)';
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 300);
        }, 5000);
    }

    // Add smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>
{% endblock %}
